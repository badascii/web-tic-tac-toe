<html>
  <body>
    <h1>Tic-Tac-Toe</h1>
    <% if @mode == 'human' %>
      <%= '<h2>Player vs Player. Fight!</h2>' %>
        <% if @turn == @player_1 %>
          <%= '<h3>Player 1 Turn</h3>' %>
        <% elsif @turn == @player_2 %>
          <%= '<h3>Player 2 Turn</h3>' %>
        <% end %>
    <% elsif @mode == 'cpu' %>
      <%= '<h2>Player vs CPU. Good luck!</h2>' %>
    <% end %>

    <% if @size == '3x3' %>
      <%= '<h2>3x3</h2>' %>
    <% elsif @size == '4x4' %>
      <%= '<h2>4x4</h2>' %>
    <% end %>


    <% if @player_move && !@player_move.empty? %>
      <%= "Your movement was #{@player_move}." %>
    <% end %>

    <table id='grid'>
      <tr>
        <td id='a1'> <%= @grid['a1'] %> </td>
        <td id='b1'> <%= @grid['b1'] %> </td>
        <td id='c1'> <%= @grid['c1'] %> </td>
        <% if @grid['d1'] %>
          <%= "<td id='d1'>#{@grid['d1']} </td>" %>
        <% end %>
      </tr>
      <tr>
        <td id='a2'> <%= @grid['a2'] %> </td>
        <td id='b2'> <%= @grid['b2'] %> </td>
        <td id='c2'> <%= @grid['c2'] %> </td>
        <% if @grid['d2'] %>
          <%= "<td id='d2'>#{@grid['d2']} </td>" %>
        <% end %>
      </tr>
      <tr>
        <td id='a3'> <%= @grid['a3'] %> </td>
        <td id='b3'> <%= @grid['b3'] %> </td>
        <td id='c3'> <%= @grid['c3'] %> </td>
        <% if @grid['d3'] %>
          <%= "<td id='d3'>#{@grid['d3']} </td>" %>
        <% end %>
      </tr>
      <% if @grid['a4'] %>
        <td id='a4'> <%= @grid['a4'] %> </td>
        <td id='b4'> <%= @grid['b4'] %> </td>
        <td id='c4'> <%= @grid['c4'] %> </td>
        <td id='d4'> <%= @grid['d4'] %> </td>
      <% end %>
    </table>
    <% if @grid.has_value?(0) %>
      <form method='post' action='/game/move'>
        <label for='grid_position'>Grid position</label>
        <input type='text' name='grid_position' id='grid_position' />
        <input type='submit' value='Submit' />
      </form>
    <% end %>
    <%= @message %>
  </body>
</html>